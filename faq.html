<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2016-03-04 
 | Rendered using Apache Maven Fluido Skin 1.4
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20160304" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Smart Reactor Maven Extension &#x2013; Frequently Asked Questions</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.4.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    
          <style type="text/css">body{background-image: url('./images/profiles/pre-release.png');}</style>
    
  
    <script type="text/javascript" src="./js/apache-maven-fluido-1.4.min.js"></script>

    
                  </head>
        <body class="topBarEnabled">
          
    
    
            
    
        
    <a href="https://github.com/rjenkinsjr/smart-reactor-maven-extension">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
                

    <div id="topbar" class="navbar navbar-fixed-top ">
      <div class="navbar-inner">
                <div class="container-fluid">
        <a data-target=".nav-collapse" data-toggle="collapse" class="btn btn-navbar">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </a>
                
                                <ul class="nav">
                          <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">User Guide <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li>      <a href="index.html"  title="Home">Home</a>
</li>
                  
                      <li>      <a href="why.html"  title="Why Use The Smart Reactor?">Why Use The Smart Reactor?</a>
</li>
                  
                      <li>      <a href="param.html"  title="Parameters">Parameters</a>
</li>
                  
                      <li>      <a href="faq.html"  title="FAQ">FAQ</a>
</li>
                          </ul>
      </li>
                <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Project Documentation <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li class="dropdown-submenu">
                                      <a href="project-info.html"  title="Project Information">Project Information</a>
              <ul class="dropdown-menu">
                                  <li>      <a href="team-list.html"  title="Project Team">Project Team</a>
</li>
                                  <li>      <a href="dependencies.html"  title="Dependencies">Dependencies</a>
</li>
                                  <li>      <a href="dependency-convergence.html"  title="Dependency Convergence">Dependency Convergence</a>
</li>
                                  <li>      <a href="plugins.html"  title="Project Plugins">Project Plugins</a>
</li>
                                  <li>      <a href="source-repository.html"  title="Source Repository">Source Repository</a>
</li>
                                  <li>      <a href="distribution-management.html"  title="Distribution Management">Distribution Management</a>
</li>
                                  <li>      <a href="project-summary.html"  title="Project Summary">Project Summary</a>
</li>
                                  <li>      <a href="license.html"  title="Project License">Project License</a>
</li>
                              </ul>
            </li>
                  
                      <li class="dropdown-submenu">
                                      <a href="project-reports.html"  title="Project Reports">Project Reports</a>
              <ul class="dropdown-menu">
                                  <li>      <a href="apidocs/index.html"  title="JavaDocs">JavaDocs</a>
</li>
                                  <li>      <a href="xref/index.html"  title="Source Xref">Source Xref</a>
</li>
                                  <li>      <a href="xref-test/index.html"  title="Test Source Xref">Test Source Xref</a>
</li>
                                  <li>      <a href="taglist.html"  title="Tag List">Tag List</a>
</li>
                                  <li>      <a href="surefire-report.html"  title="Surefire Report">Surefire Report</a>
</li>
                                  <li>      <a href="invoker-report.html"  title="Invoker Build Results">Invoker Build Results</a>
</li>
                                  <li>      <a href="jacoco/index.html"  title="JaCoCo Test">JaCoCo Test</a>
</li>
                                  <li>      <a href="jacoco-it/index.html"  title="JaCoCo IT">JaCoCo IT</a>
</li>
                              </ul>
            </li>
                          </ul>
      </li>
                  </ul>
          
          
          
                   
                      </div>
          
        </div>
      </div>
    </div>
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>Smart Reactor Maven Extension</h2>
                </div>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2016-03-04
                      <span class="divider">|</span>
                   </li>
                  <li id="projectVersion">Version: 0.1.4
                      </li>
                      
                
                    
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">User Guide</li>
                              
      <li>
  
                          <a href="index.html" title="Home">
          <span class="none"></span>
        Home</a>
            </li>
                
      <li>
  
                          <a href="why.html" title="Why Use The Smart Reactor?">
          <span class="none"></span>
        Why Use The Smart Reactor?</a>
            </li>
                
      <li>
  
                          <a href="param.html" title="Parameters">
          <span class="none"></span>
        Parameters</a>
            </li>
                
      <li class="active">
  
            <a href="#"><span class="none"></span>FAQ</a>
          </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                              
      <li>
  
                          <a href="project-info.html" title="Project Information">
          <span class="icon-chevron-right"></span>
        Project Information</a>
                  </li>
                                                                                                                                                                                                
      <li>
  
                          <a href="project-reports.html" title="Project Reports">
          <span class="icon-chevron-right"></span>
        Project Reports</a>
                  </li>
            </ul>
                
                    
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span10" >
                                  
            <div class="section">
<h2><a name="Frequently_Asked_Questions"></a>Frequently Asked Questions</h2>
<div class="section">
<div class="section">
<h4><a name="Where_are_the_goals_documented"></a>Where are the goals documented?</h4>
<p>There are no goals; this is an extension, not a plugin. It is enabled by default once it is installed or included in your project. <a href="param.html">Parameters</a> are used to control how the extension behaves.</p></div>
<div class="section">
<h4><a name="My_project_is_just_a_single_POM_that_I_use_as_a_parent_for_many_unrelated_projects_so_its_in_a_separate_SCM_repository._When_I_try_to_use_this_extension_with_my_parent_POM_project_I_get_an_error._Whats_wrong"></a>My project is just a single POM that I use as a parent for many unrelated projects, so it&#x2019;s in a separate SCM repository. When I try to use this extension with my parent POM project, I get an error. What&#x2019;s wrong?</h4>
<p>By default, the Smart Reactor will fail if it contains exactly one SNAPSHOT project whose packaging is <tt>pom</tt>. This check exists to prevent pointless builds of aggregator POMs, usually caused by forgetting to version one or more modules. When developing a standalone parent POM, however, this check prevents the extension from otherwise working as intended. To disable this check, enable the property <a href="param.html#rtr.allowSinglePomReactor">rtr.allowSinglePomReactor</a> in the POM (recommended) or at the command line. </p></div>
<div class="section">
<h4><a name="How_do_I_perform_a_release"></a>How do I perform a release?</h4>
<p>Enable the <a href="param.html#rtr.release">rtr.release</a> parameter. If you already have a profile in your project dedicated to releases, just add this parameter as a profile-specific property.</p>

<ol style="list-style-type: decimal">
  
<li>All SNAPSHOT projects that are selected for release will have their POMs transformed on disk.</li>
  
<li>The transformed POMs are reloaded into the reactor.</li>
  
<li>The build is performed, using whatever other parameters/profiles/goals/phases you have specified.</li>
</ol></div>
<div class="section">
<h4><a name="How_do_I_get_my_release_POMs_checked_back_into_my_SCM_tool"></a>How do I get my release POMs checked back into my SCM tool?</h4>
<p>The extension will not push changes back into SCM; your CI engine is ideal for this. Users of Git should find this trivial to implement regardless of the CI engine being used.</p></div>
<div class="section">
<h4><a name="You_assert_that_one_of_the_downsides_of_the_Maven_Release_Plugin_is_that_a_failed_release_results_in_an_SCM_tag_that_must_be_manually_rolled_backbut_if_your_CI_release_build_fails_before_creating_the_SCM_tag_and_after_pushing_the_release_artifacts_to_the_Maven_repository_now_you_have_released_artifacts_that_must_be_manually_rolled_back._Havent_I_just_traded_one_problem_for_another"></a>You assert that one of the downsides of the Maven Release Plugin is that a failed release results in an SCM tag that must be manually rolled back&#x2026;but if your CI release build fails before creating the SCM tag and after pushing the release artifacts to the Maven repository, now you have released artifacts that must be manually rolled back. Haven&#x2019;t I just traded one problem for another?</h4>
<p>Technically speaking - yes, you&#x2019;ve traded the &#x201c;dangling SCM tag&#x201d; problem for the &#x201c;dangling release artifacts&#x201d; problem. There will always be some breakdown of atomicity when integrating many disparate tools to build and release Maven projects, and this is a good example of what can happen as a result. With that said:</p>

<ol style="list-style-type: decimal">
  
<li>It is unlikely that your CI build would be able to check out code from SCM, build a Maven project and push to the Maven repository, but then fail when committing/tagging back to SCM. You&#x2019;ve already checked out from SCM, so clearly your SCM system is working at the time the build starts. It&#x2019;s always possible that your SCM system could crash while your build is working, but that window of opportunity is only as large as the duration of your CI build (which should be small).</li>
  
<li>If you have post-Maven-deploy verification steps in your CI build that cannot be performed prior to the Maven build (e.g. SonarQube analysis), you have the same atomicity problem regardless of whether you used the Smart Reactor or the Maven Release Plugin. In fact, this problem would be worse with the Maven Release Plugin because you would have to roll back the Maven artifacts <i>and</i> the SCM tag, whereas with the Smart Reactor you would only have to roll back the Maven artifacts.</li>
  
<li>Rollback of improperly-released Maven artifacts could be mitigated by deploying to a &#x201c;staging&#x201d; Maven repository from your CI build, or by scripting a rollback procedure in the event of a CI build failure. Nexus, Artifactory and Archiva all have REST APIs for deleting artifacts.</li>
</ol></div>
<div class="section">
<h4><a name="Suppose_I_perform_a_release_and_commit_my_release_POMs_to_trunkmasterinsert_name_of_my_SCM_tools_concept_of_mainline_here._How_can_I_perform_post-release_analytics_e.g._SonarQube_analysis_on_the_code_that_was_released_when_the_Smart_Reactor_refuses_to_build_already-released_code"></a>Suppose I perform a release and commit my release POMs to trunk/master/[insert name of my SCM tool&#x2019;s concept of mainline here]. How can I perform post-release analytics (e.g. SonarQube analysis) on the code that was released, when the Smart Reactor refuses to build already-released code?</h4>
<p><a href="param.html#rtr.disabled">Disable the Smart Reactor</a> when performing builds on already-released projects.</p>
<p>Make sure that you prevent these analytics from accidentally publishing to your Maven repository. Running <tt>mvn verify</tt> instead of <tt>mvn install</tt> is a good place to start.</p></div>
<div class="section">
<h4><a name="What_does_rtr_mean"></a>What does &#x201c;rtr&#x201d; mean?</h4>
<p>The first name I came up with for this extension was &#x201c;Selective Release&#x201d;, or &#x201c;selrel&#x201d; for short. As I started developing it, I realized that the logic impacted both release and non-release builds. The name &#x201c;Selective Build and Release&#x201d; was too verbose, so I had to come up with something else. When I realized that I was making a &#x201c;smarter&#x201d; Maven reactor, I settled on the name &#x201c;Smart Reactor&#x201d;. When you put the two words together, you get &#x201c;smaRTReactor&#x201d;.</p></div></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                                                <p class="pull-right">Copyright &copy;                   2016.
          All rights reserved.      
                    
      </p>
                </div>

        
                </div>
    </footer>
        </body>
</html>
